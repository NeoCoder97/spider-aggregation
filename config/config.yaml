# MindWeaver Configuration
# This is the default configuration file

database:
  # Database type: sqlite, postgresql, mysql
  # Default: sqlite
  type: "sqlite"

  # SQLite configuration (default)
  path: "data/spider_aggregation.db"

  # PostgreSQL configuration example
  # type: "postgresql"
  # host: "localhost"
  # port: 5432
  # database: "mindweaver"
  # user: "mindweaver"
  # password: "changeme"
  # ssl_mode: "prefer"  # disable, allow, prefer, require, verify-ca, verify-full

  # MySQL configuration example
  # type: "mysql"
  # host: "localhost"
  # port: 3306
  # database: "mindweaver"
  # user: "mindweaver"
  # password: "changeme"
  # ssl_mode: "preferred"  # disabled, preferred, required, verify_ca, verify_identity

  # Common settings
  echo: false
  pool_size: 5
  max_overflow: 10

fetcher:
  # HTTP timeout in seconds
  timeout_seconds: 30

  # Maximum number of retry attempts
  max_retries: 3

  # Delay between retries in seconds
  retry_delay_seconds: 5

  # Maximum content length to store (in characters)
  max_content_length: 10000

  # User agent string for HTTP requests
  user_agent: "Mind-Aggregation/0.1.0"

scheduler:
  # Minimum interval between feed fetches (in minutes)
  min_interval_minutes: 15

  # Timezone for scheduler
  timezone: "UTC"

  # Default number of worker threads
  max_workers: 3

deduplicator:
  # Deduplication strategy: strict, medium, relaxed
  # - strict: link_hash OR (title_hash AND content_hash)
  # - medium: link_hash OR title_hash (default)
  # - relaxed: title_hash OR content_hash (similarity > 85%)
  strategy: "medium"

  # Similarity threshold for content matching (0.0 - 1.0)
  similarity_threshold: 0.85

parser:
  # Strip HTML tags from content
  strip_html: true

  # Preserve paragraphs when stripping HTML
  preserve_paragraphs: true

  # Maximum title length
  max_title_length: 500

  # Maximum summary length
  max_summary_length: 1000

logging:
  # Log level: DEBUG, INFO, WARNING, ERROR
  level: "INFO"

  # Log file path (use empty string for no file logging)
  file_path: "data/logs/spider_{time}.log"

  # Log rotation size (in MB)
  rotation_size: 10

  # Log retention period (in days)
  retention_days: 30

  # Log to console
  console: true
